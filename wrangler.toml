name = "outframer"
main = "worker/index.ts"
compatibility_date = "2025-01-01"
account_id = "78aa716d1c2ddac7dab1162d38998f53"
compatibility_flags = ["nodejs_compat"]

routes = [
  { pattern = "outframer.com", zone_name = "outframer.com", custom_domain = true }
]

[assets]
directory = "./public"
binding = "ASSETS"
run_worker_first = [ "/api/*", "/t" ]

[vars]
# Optional model override for /api/convert (set OPENAI_API_KEY via `wrangler secret put OPENAI_API_KEY`)
OPENAI_MODEL = "gpt-4.1-mini"

[[durable_objects.bindings]]
name = "MCP_OBJECT"
class_name = "OutframerMCP"

[[d1_databases]]
binding = "DB"
database_name = "outframer-waitlist"
database_id = "b977c6e1-b40e-4fd1-bbe1-f38a881593c3"

[[analytics_engine_datasets]]
binding = "ANALYTICS"
dataset = "outframer_events"

[[r2_buckets]]
binding = "DOCS_BUCKET"
bucket_name = "outframer-docs"

[observability]
enabled = true

[observability.logs]
enabled = true

